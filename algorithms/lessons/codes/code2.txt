var canvas = document.getElementById('myCanvas'); // ğŸ¨ è·å–é¡µé¢ä¸Šçš„ç”»å¸ƒå…ƒç´ ï¼Œè®©æˆ‘ä»¬å¼€å§‹åˆ›ä½œå§ï¼
var ctx = canvas.getContext('2d'); // âœï¸ è·å–2Dç»˜å›¾ç¯å¢ƒï¼Œå‡†å¤‡å¥½ç”»ç¬”å’¯ï¼
ctx.clearRect(0, 0, 500, 500); // ğŸ§¼ æ¸…é™¤ç”»å¸ƒä¸Šçš„å†…å®¹ï¼Œä¸ºæ–°ç»˜åˆ¶çš„å›¾å½¢è…¾å‡ºç©ºé—´

ctx.strokeStyle = "blue"; // ğŸ’™ è®¾ç½®çº¿æ¡é¢œè‰²ä¸ºè“è‰²ï¼Œä½ å¯ä»¥å°è¯•æ”¹æˆå…¶ä»–é¢œè‰²å“¦ï¼
ctx.lineWidth = 3; // ğŸ–‹ï¸ è®¾ç½®çº¿æ¡å®½åº¦ä¸º3ï¼Œè¯•è¯•æ”¹æˆæ›´å¤§æˆ–æ›´å°çœ‹çœ‹æ•ˆæœï¼

var maxdepth = 0; // ğŸ“Š è®°å½•æœ€å¤§é€’å½’æ·±åº¦
var curdepth = 0; // ğŸ“‰ å½“å‰é€’å½’æ·±åº¦

function drawH(x, y, length, height) {
    curdepth++; // ğŸ“ˆ é€’å½’æ·±åº¦å¢åŠ 
    ctx.beginPath(); // ğŸš€ å¼€å§‹ç»˜åˆ¶è·¯å¾„ï¼Œå‡†å¤‡èµ·é£ï¼
    ctx.moveTo(x - length / 2, y); // ğŸ“ ç»˜åˆ¶æ¨ªçº¿èµ·ç‚¹
    ctx.lineTo(x + length / 2, y); // ğŸ–Œï¸ ç»˜åˆ¶æ¨ªçº¿ç»ˆç‚¹
    ctx.moveTo(x - length / 2, y - height / 2); // ğŸ“ ç»˜åˆ¶å·¦ä¾§ç«–çº¿èµ·ç‚¹
    ctx.lineTo(x - length / 2, y + height / 2); // ğŸ–Œï¸ ç»˜åˆ¶å·¦ä¾§ç«–çº¿ç»ˆç‚¹
    ctx.moveTo(x + length / 2, y - height / 2); // ğŸ“ ç»˜åˆ¶å³ä¾§ç«–çº¿èµ·ç‚¹
    ctx.lineTo(x + length / 2, y + height / 2); // ğŸ–Œï¸ ç»˜åˆ¶å³ä¾§ç«–çº¿ç»ˆç‚¹
    ctx.stroke(); // âœ¨ å®Œæˆå½“å‰å±‚çº§çš„ç»˜åˆ¶

    // ğŸŒŸ é€’å½’ç»˜åˆ¶ä¸‹ä¸€å±‚çº§çš„H
    if (curdepth <= maxdepth) {
        drawH(x - length / 2, y - height / 2, length * 0.5, height * 0.5); // å·¦ä¸Š
        drawH(x - length / 2, y + height / 2, length * 0.5, height * 0.5); // å·¦ä¸‹
        drawH(x + length / 2, y - height / 2, length * 0.5, height * 0.5); // å³ä¸Š
        drawH(x + length / 2, y + height / 2, length * 0.5, height * 0.5); // å³ä¸‹
    }
    curdepth--; // ğŸ“‰ é€’å½’æ·±åº¦å‡å°‘
}

function go() {
    ctx.clearRect(0, 0, canvas.width, canvas.height); // ğŸ§¼ æ¯æ¬¡ç»˜åˆ¶å‰æ¸…é™¤ç”»å¸ƒ
    drawH(250, 250, 240, 180); // ğŸ–¼ï¸ ä»ä¸­å¿ƒç‚¹å¼€å§‹ç»˜åˆ¶H
    maxdepth++; // ğŸ“Š å¢åŠ æœ€å¤§é€’å½’æ·±åº¦
    curdepth = 0; // ğŸ“‰ é‡ç½®å½“å‰é€’å½’æ·±åº¦
    if (maxdepth > 4) { // ğŸ”„ å¦‚æœé€’å½’æ·±åº¦è¶…è¿‡4ï¼Œé‡ç½®ä¸º0ï¼Œé‡æ–°å¼€å§‹
        maxdepth = 0;
    }
}

// â²ï¸ æ¯éš”1500æ¯«ç§’ï¼ˆ1.5ç§’ï¼‰è°ƒç”¨ä¸€æ¬¡goå‡½æ•°ï¼Œçœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆæ ·çš„æ•ˆæœå§ï¼ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹è¿™ä¸ªé—´éš”æ—¶é—´è¯•è¯•å“¦ï¼
intervalId = window.setInterval('go()', 1500);